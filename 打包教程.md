# CleanC 安全打包教程

## 一、准备工作

在开始打包之前，请确保你的电脑上已经安装了以下软件：

1. **Node.js**：如果未安装，请从 [Node.js 官网](https://nodejs.org/) 下载并安装
2. **Git**：用于版本控制（可选）

## 二、快速打包步骤

我们提供了一个简化的打包过程，只需运行一个批处理文件即可完成所有操作：

1. 右键点击 `package-secure.bat` 文件
2. 选择"以管理员身份运行"
3. 等待打包过程完成
4. 在 `dist` 目录下查看生成的安装程序

## 三、详细说明

### 打包文件的作用

`package-secure.bat` 脚本会自动执行以下操作：

1. **源代码混淆**：将JavaScript代码进行混淆处理，防止他人轻易查看和修改你的源代码
2. **资源保护**：确保图标和微信公众号二维码等重要资源文件被正确打包
3. **安装程序生成**：创建一个一键安装程序，方便用户安装你的应用

### 打包产物说明

成功执行后，您将在 `dist` 目录下看到：

- `CleanC_安装程序.bat`：自解压安装批处理文件
- `CleanC_Setup.zip`：包含所有应用文件的压缩包

两者需要一起分发给用户，用户只需双击 `CleanC_安装程序.bat` 即可完成安装。

### 安装程序特点

生成的安装程序具有以下特点：

1. **易于使用**：用户只需点击一个文件即可完成安装
2. **自动检测环境**：如果用户未安装Node.js，会自动引导安装
3. **创建快捷方式**：自动在桌面创建带应用图标的快捷方式
4. **保留品牌标识**：确保应用图标和微信公众号信息完整显示

## 四、常见问题解答

### Q: 打包过程中报错，提示找不到某个依赖怎么办？
A: 请确保已运行 `npm install` 安装了所有依赖，然后重新尝试打包。

### Q: 如何修改安装程序的默认安装路径？
A: 打开 `package-secure.bat` 文件，找到 `set INSTALL_DIR=%%USERPROFILE%%\CleanC` 这一行，修改为你想要的路径。

### Q: 我想更新应用版本号，应该修改哪里？
A: 请修改 `package.json` 文件中的 `"version"` 字段，然后重新打包。

### Q: 安装程序中的微信公众号二维码没有显示怎么办？
A: 请确保 `assets` 目录下存在 `qrcode-wechat.png` 文件，并且在打包前已正确引用。

## 五、联系与支持

如需更多技术支持，请关注微信公众号，或发送邮件至：support@example.com

祝你使用愉快！ 